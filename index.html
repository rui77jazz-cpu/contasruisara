<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contas Partilhadas â€” Sara &amp; Rui</title>

  <!-- Firebase (compat) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

  <style>
    :root{--primary:#5a67d8;--accent:#38a169;--danger:#e53e3e;--text:#2d3748;--muted:#4a5568;--bg:#edf2f7;--card:#fff;--border:#e2e8f0;--r:0.5rem;--gap:1rem}
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--muted);padding:1.5rem}
    .app{max-width:820px;margin:0 auto;background:var(--card);padding:2rem;border-radius:var(--r);box-shadow:0 10px 15px -3px rgba(0,0,0,.08),0 4px 6px -2px rgba(0,0,0,.04)}
    h1{color:var(--primary);text-align:center;margin-bottom:1.5rem;font-size:2rem}
    section{margin-bottom:1.25rem}
    h2{color:var(--text);font-size:1.25rem;margin-bottom:.75rem;border-bottom:1px solid var(--border);padding-bottom:.4rem}
    form#expenseForm{display:grid;grid-template-columns:1fr;gap:1rem}
    @media(min-width:700px){form#expenseForm{grid-template-columns:1fr 1fr 1fr}form#expenseForm button{grid-column:1/-1}}
    label{font-weight:600;color:var(--text);display:flex;flex-direction:column;gap:.35rem}
    input,select{padding:.65rem 1rem;border:1px solid var(--border);border-radius:var(--r);font-size:1rem}
    button[type=submit]{padding:1rem;background:var(--accent);color:#fff;border-radius:var(--r);border:0;cursor:pointer;font-weight:700}
    #clearAllBtn{background:var(--danger);color:#fff;border:0;padding:.75rem;border-radius:var(--r);cursor:pointer;margin-bottom:.75rem}
    #loading-status{padding:.75rem;background:var(--bg);border:1px solid var(--border);border-radius:var(--r);font-style:italic;color:var(--muted)}
    .expense-item{padding:1rem;border:1px solid var(--border);border-radius:var(--r);display:flex;flex-direction:column;gap:.5rem;background:var(--card)}
    .expense-item p{display:flex;justify-content:space-between;align-items:center}
    .expense-item .description{font-style:italic;color:var(--muted)}
    .expense-item button{background:var(--danger);color:#fff;border:0;padding:.45rem .7rem;border-radius:6px;cursor:pointer}
    #settlements{padding:.75rem;border-radius:var(--r);margin-top:.5rem}
  </style>
</head>
<body>
  <div class="app">
    <h1>Contas Partilhadas â€” Sara &amp; Rui</h1>

    <section>
      <h2>âž• Adicionar Nova Despesa</h2>
      <form id="expenseForm">
        <label>Quem pagou:
          <select id="payer" required>
            <option value="" disabled selected>Selecione o pagador</option>
            <option value="Sara">Sara</option>
            <option value="Rui">Rui</option>
          </select>
        </label>

        <label>Quantia (â‚¬):
          <input id="amount" type="number" step="0.01" min="0.01" placeholder="Ex: 25.50" required />
        </label>

        <label>DescriÃ§Ã£o:
          <input id="description" type="text" maxlength="100" placeholder="Ex: Jantar" required />
        </label>

        <button type="submit">Guardar Despesa</button>
      </form>
    </section>

    <hr />

    <section>
      <h2>ðŸ§¾ Despesas Registadas</h2>
      <button id="clearAllBtn">ðŸš¨ Limpar Todas as Despesas</button>
      <p id="loading-status">A carregar despesas...</p>
      <div id="list"></div>
    </section>

    <hr />

    <section>
      <h2>ðŸ“Š Resumo do Saldo</h2>
      <p><strong>Sara (Pagou):</strong> <span id="balanceSara">0.00</span> â‚¬</p>
      <p><strong>Rui (Pagou):</strong> <span id="balanceRui">0.00</span> â‚¬</p>
      <p class="total-summary"><strong>Total Geral:</strong> <span id="totalSum">0.00</span> â‚¬</p>
      <h3>Acerto de Contas Sugerido:</h3>
      <div id="settlements">A calcular balanÃ§o...</div>
    </section>
  </div>

  <!-- o teu script.js (jÃ¡ com o cÃ³digo Firestore + local fallback) -->
  <script src="script.js" defer></script>
</body>
</html>


